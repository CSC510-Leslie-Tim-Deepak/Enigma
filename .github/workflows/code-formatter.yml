name: Run autopep8

on: push

jobs:
    autopep8:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v3
            - name: autopep8
              uses: peter-evans/autopep8@v2
              with:
                  args: --recursive --in-place --aggressive --aggressive .
            - name: Create pull request
              uses: peter-evans/create-pull-request@v3
              with:
                  commit-message: Autopep8 action fixes
                  title: Formatting fixes created by autopep8
                  body: This is an auto-generated PR with fixes by autopep8.
                  branch: autopep8-fixes
                  labels: autopep8, auto-generated
                  base: main
